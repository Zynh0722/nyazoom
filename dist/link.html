<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/link.css" rel="stylesheet">

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const params = new Proxy(new URLSearchParams(window.location.search), {
                get: (searchParams, prop) => searchParams.get(prop),
            });


            if (params.link !== null) {
                let link = `${window.location.origin}/download/${params.link}`;

                let link_el = document.getElementById("link");

                link_el.href = link;
                link_el.innerHTML = link;
            }
        });

        function clipboard() {
            let copyText = document.getElementById("link");

            navigator.clipboard.writeText(copyText.href).then(() => alert("Copied: " + copyText.href));
        }
    </script>
</head>

<body>
    <div class="link-wrapper">
        <a id="link" href=""></a>
    </div>

    <button class="return-button" onclick="clipboard()">Copy to Clipboard</button>

    <a href="/" class="return-button">Return to home</a>
</body>

</html>
